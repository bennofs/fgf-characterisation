\begin{tikzpicture}
  \def\radiusP{0.5em};
  \def\radiusE{0.4em};
  \def\radiusS{0.2em};
  \def\tuppad{0.5em};
  \tikzset{el/.style={circle,draw,fill=white,minimum width=2em,minimum height=2em}};
  \tikzset{relP/.style={tolhighcontrastBlue, line width=0.3em, -{Stealth[round]}, shorten >= 0.4em, radius=\radiusP}};
  \tikzset{relE/.style={tolhighcontrastYellow, line width=0.25em, -{Stealth[round]}, shorten >= 0.2em, radius=\radiusE}};
  \tikzset{relS/.style={tolhighcontrastRed, line width=0.15em, -{Stealth[round]}, shorten >= 0.2em, radius=\radiusS}};
  \tikzset{selnode/.style={white, fill=tolbrightGreen}}
  \tikzset{sel2node/.style={black, fill=tollightLightcyan}}
  \tikzset{sel3node/.style={black, fill=tollightLightyellow}}
  \tikzset{selnodex/.style={#1/.append style={selnode}}}
  \tikzset{sel2nodex/.style={#1/.append style={sel2node}}}
  \tikzset{sel3nodex/.style={#1/.append style={sel3node}}}


  \tikzset{
    0/.style={name=0},
    1/.style={name=1},
    2/.style={name=2},
    3/.style={name=3},
    4/.style={name=4},
    5/.style={name=5},
    6/.style={name=6},
    7/.style={name=7},
    8/.style={name=8},
    9/.style={name=9},
    10/.style={name=10},
    11/.style={name=11},
    12/.style={name=12},
    % common edges
    edge/.style={},
    e1234/.style={},
    e2356/.style={},
    e12/.style={},
    % edges of A
    e54/.style={},
    e84/.style={},
    e68/.style={},
    e47/.style={},
    e13/.style={},
    % edges of B
    ebief/.style={},
    efe/.style={},
    eeg/.style={},
    egh/.style={},
    edc/.style={},
    eaj/.style={},
    % scope A
    A/.style={},
    % scope B
    B/.style={},
  };

  \newcommand<>{\setonly}[1]{\only#2{\tikzset{#1}}}

  \setonly<2-5>{
    selnodex/.list={1,2,3,4},
    edge/.style={opacity=0.3},
    e12/.style={opacity=1},
    e1234/.style={opacity=1},
  }

  \setonly<3-5>{
    A/.append style={
      sel2nodex/.list={2,3},
    },
  }
  \setonly<4-5>{
    A/.append style={
      sel3nodex/.list={5,6},
      e2356/.style={opacity=1},
    },
  }
  \setonly<5>{
    B/.append style={
      sel2nodex/.list={2,3},
      sel3nodex/.list={5,6},
      e2356/.style={opacity=1},
    },
  }
  % \setonly<7>{
  %   B/.append style={
  %     sel2nodex/.list={2},
  %     sel3nodex/.list={9, 5, 6},
  %     ebief/.style={opacity=1},
  %     3/.append style={tolhighcontrastRed, fill=white, dashed, very thick},
  %   },
  % }
  \setonly<6-8>{
    selnodex/.list={2,3,5,6},
    edge/.style={opacity=0.3},
    e2356/.style={opacity=1},
  }
  \setonly<7-8>{
    B/.append style={
      sel2nodex/.list={5},
      sel3nodex/.list={7},
      eeg/.style={opacity=1},
    }
  }
  \setonly<8>{
    A/.append style={
      sel2nodex/.list={5},
      sel3nodex/.list={4},
      e54/.style={opacity=1},
    }
  }
  \setonly<9>{
    edge/.style={opacity=0.3},
    A/.append style={selnodex/.list={5,4}},
    B/.append style={selnodex/.list={5,7}},
    e54/.style={opacity=1},
    eeg/.style={opacity=1},
  }

  \begin{scope}[A]
    \matrix[
    matrix of nodes,
    column sep=2em,
    row sep=2em,
    every node/.prefix style={el},
    name=A,
    matrix anchor=4.base,
    ampersand replacement=§,
    ] {
              §         §          § |[7]| 7 \\
      |[1]| 1 § |[2]| 2 § |[3]| 3  § |[4]| 4 \\
              §         §  |[5]| 5 § |[8]| 8 \\
              §         §  |[6]| 6 §         \\
    };

    \begin{scope}[on background layer]
      \begin{scope}[transparency group, edge, e1234]
        \fill[relP] (1.north) circle [] coordinate (p1);
        \fill[relP] (2.north) circle [] coordinate (p2);
        \fill[relP] (3.north) circle [] coordinate (p3);
        \fill[relP] (4.north) circle [] coordinate (p4);
        \draw[bend left, relP] (p1) to (p2) to (p3) to (p4);
      \end{scope}

      \begin{scope}[transparency group, edge, e2356]
        \fill[relP] (2.south east) circle [] coordinate (p1);
        \fill[relP] (3.south) circle [] coordinate (p2);
        \fill[relP] (5.north west) circle [] coordinate (p3);
        \fill[relP] (6.west) circle [] coordinate (p4);
        \draw[relP, bend right] (p1) to (p2) to (p3) to[bend right] (p4);
      \end{scope}

      \begin{scope}[transparency group, edge, e68]
        \draw[relS,shorten >= 0em] (6) to (8);
      \end{scope}

      \begin{scope}[transparency group, edge, e84]
        \draw[relE,shorten >= 0em] (8) to (4);
      \end{scope}

      \begin{scope}[transparency group, edge, e54]
        \draw[relE,shorten >= 0em] (5) to (4);
      \end{scope}

      \begin{scope}[transparency group, edge, e47]
        \draw[relS,shorten >= 0em, bend right=45] (4) to (7);
      \end{scope}

      \begin{scope}[transparency group, edge, e12]
        \draw[relE,shorten >= 0em] (1) to (2);
      \end{scope}

      \begin{scope}[transparency group, edge, e13, overlay]
        \draw[relS,shorten >= 0em] (1) to[out=135,in=45,looseness=1] (3);
      \end{scope}
    \end{scope}
  \end{scope}

  \begin{scope}[B]
    \matrix[
    matrix of nodes,
    column sep=2em,
    row sep=2em,
    nodes={
      el
    },
    name=B,
    ampersand replacement=§,
    matrix anchor=1.base west,
    xshift=5em,
    ] at (4.base east) {
      |[1]| a  § |[2]| b § |[3]| c § |[4]| d \\
      |[10]| j § |[9]| i § |[5]| e § |[7]| g \\
               §         § |[6]| f § |[8]| h \\
    };

    \begin{scope}[on background layer]
      \begin{scope}[transparency group, edge, e1234]
        \fill[relP] (1.north) circle [] coordinate (p1);
        \fill[relP] (2.north) circle [] coordinate (p2);
        \fill[relP] (3.north) circle [] coordinate (p3);
        \fill[relP] (4.north) circle [] coordinate (p4);
        \draw[bend left, relP] (p1) to (p2) to (p3) to (p4);
      \end{scope}

      \begin{scope}[transparency group, edge, e2356]
        \fill[relP] (2.south east) circle [] coordinate (p1);
        \fill[relP] (3.south) circle [] coordinate (p2);
        \fill[relP] (5.north east) circle [] coordinate (p3);
        \fill[relP] (6.east) circle [] coordinate (p4);
        \draw[relP] (p1) to[bend right=45] (p2) to[bend left=45] (p3) to[bend left] (p4);
      \end{scope}

      \begin{scope}[transparency group, edge, ebief]
        \fill[relP] (2.south west) circle [] coordinate (p1);
        \fill[relP] (9.south west) circle [] coordinate (p2);
        \fill[relP] (5.south west) circle [] coordinate (p3);
        \fill[relP] (6.west) circle [] coordinate (p4);
        \draw[bend right, relP] (p1) to (p2) to (p3) to[bend right=20] (p4);
      \end{scope}

      \begin{scope}[transparency group, edge, efe]
        \draw[relS, shorten >= 0] (6) to (5);
      \end{scope}

      \begin{scope}[transparency group, edge, egh]
        \draw[relS, shorten >= 0] (7) to (8);
      \end{scope}

      \begin{scope}[transparency group, edge, edc]
        \draw[relS, shorten >= 0] (4) to (3);
      \end{scope}

      \begin{scope}[transparency group, edge, e12]
        \draw[relE,shorten >= 0em] (1) to (2);
      \end{scope}

      \begin{scope}[transparency group, edge, eeg]
        \draw[relE,shorten >= 0em] (5) to[bend right=45] (7);
      \end{scope}

      \begin{scope}[transparency group, edge, eaj]
        \draw[relS,shorten >= 0em] (1) to (10);
      \end{scope}
    \end{scope}
  \end{scope}
\end{tikzpicture}
